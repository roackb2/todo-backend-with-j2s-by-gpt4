# What's this?

This is a sample TODO API service using [j2s](https://www.npmjs.com/package/j2s/v/2.0.10) created by instructing GPT4 with small modifications.
Main modifications are the way to pass bookshelf instance into j2s config. Also the generated knexfile.js content is wrong. I copied one from the official documentation from knex.js.

## The prompt

Detail of the prompt please see `prompt.md`. It's a shorter version of the j2s README followed by the prompt to ask GPT to create the app.

## The response

The response of GPT4 is screenshot at the `gpt4-j2s-todo-backend.pdf` file. Take a look for the full conversation.

## Usage

1. Create a TODO item

```
curl --location 'localhost:3000/api/todos' \
--header 'Content-Type: application/json' \
--data '{
    "data": {
        "title": "Test 2",
        "description": "Another test todo",
        "completed": false
    }
}'
```

2. Get all TODO items

```
curl --location 'localhost:3000/api/todos'
```

----
> NOTE: Following is README generated by GPT4

# TODO App Backend API

This is a simple backend API for a TODO app using Koa.js, j2s, Bookshelf.js, and Knex.js. It provides CRUD operations on a todos table in the database.

## Getting Started

These instructions will help you set up and run the project on your local machine.

### Prerequisites

Make sure you have Node.js and npm installed on your machine. You also need a PostgreSQL database set up with a todos table containing the following columns: `id`, `title`, `description`, `completed`, `created_at`, and `updated_at`.

### Installation

1. Clone the repository:

```bash
git clone git@github.com:roackb2/todo-backend-with-j2s-by-gpt4.git
cd todo-backend-with-j2s-by-gpt4
```

2. Install the dependencies:

```bash
npm install
```

3. Update the database configuration in knexfile.js with your database details:

```javascript
module.exports = {
  client: 'pg',
  connection: {
    host: '127.0.0.1',
    user: 'your_database_user',
    password: 'your_database_password',
    database: 'your_database_name'
  }
};
```

4. Run the application:

```bash
npm start
```

The server will start running on port 3000, or the port specified in your environment variables.

## API Endpoints

The following API endpoints are available:

- `GET /api/todos`: Retrieve a list of all todos.
- `GET /api/todos/:id`: Retrieve a specific todo by its ID.
- `POST /api/todos`: Create a new todo.
- `PUT /api/todos/:id`: Update a specific todo by its ID.
- `DELETE /api/todos/:id`: Delete a specific todo by its ID.

## Built With

- [Koa.js](https://koajs.com/) - Web framework
- [j2s](https://www.npmjs.com/package/j2s) - JSON to SQL REST API generator
- [Bookshelf.js](https://bookshelfjs.org/) - ORM for Node.js
- [Knex.js](https://knexjs.org/) - SQL query builder

# License

This project is licensed under the MIT License - see the [LICENSE](LICENSE.md) file for details.
